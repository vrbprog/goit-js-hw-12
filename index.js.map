{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\nfunction createCardHTML(image) {\n    const cardHTML = `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img\n        class=\"gallery-image\"\n        src=\"${image.webformatURL}\"\n        title=\"${image.tags}\"\n        />\n    </a>\n    <div class=\"properties\">\n        <div class=\"property\">\n            <p class=\"nameProp\">Likes</p>\n            <p>${image.likes}</p>\n        </div>\n        <div class=\"property\">\n            <p class=\"nameProp\">Views</p>\n            <p>${image.views}</p>\n        </div>\n        <div class=\"property\">\n            <p class=\"nameProp\">Comments</p>\n            <p>${image.comments}</p>\n        </div>\n        <div class=\"property\">\n            <p class=\"nameProp\">Downloads</p>\n            <p>${image.downloads}</p>\n        </div>\n    </div>\n    </li>`;\n\n    return cardHTML;\n}\n            \nexport default function createGalleryHTML(images) {\n    let strGallery = '';\n    for (const image of images.hits) {\n      strGallery += createCardHTML(image);\n    }\n    return strGallery;\n}\n\n            ","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '46844494-ff9f555a2e638e0a9d57299e3';\n\nconst getPixabayImages = (request, numPage = 1) => {\n  return fetch(\n    BASE_URL +\n      '?key=' +\n      API_KEY +\n      '&q=' +\n      `${request}` +\n      '&image_type=photo' +\n      '&orientation=horizontal' +\n      '&per_page=9' +\n      '&page=' +\n      `${numPage}` +\n      '&safesearch=true'\n  );\n};\n\nexport default getPixabayImages;","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport createGalleryHTML from './js/render-functions';\nimport getPixabayImages from './js/pixabay-api';\n\nconst HIDE = '#f8f8f8';\nconst SHOW = '#4e75ff';\n\niziToast.settings({\n  timeout: 1000,\n  resetOnHover: true,\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n  position: 'topCenter',\n});\n\nconst simpleGallery = new SimpleLightbox('.gallery-item a', {\n  captionType: 'alt',\n  captionDelay: 250,\n});\nsimpleGallery.on('show.simplelightbox');\nconst gallery = document.querySelector('ul.gallery');\nlet lastRequest = '';\nlet currentRequest = '';\nlet numberPage = 1;\n\nconst submit = document.querySelector('.search');\nsubmit.addEventListener('submit', event => {\n  event.preventDefault();\n  currentRequest = event.target.search.value;\n  if (currentRequest != '') {\n    if (currentRequest === lastRequest) numberPage++;\n    else numberPage = 1;\n    lastRequest = currentRequest;\n    gallery.innerHTML = '';\n    changeLoadingState(SHOW);\n    getPixabayImages(lastRequest, numberPage)\n      .then(response => validateResponse(response))\n      .then(images => showGallery(images))\n      .catch(error => console.log(error))\n      .finally(() => changeLoadingState(HIDE));\n  } else {\n    gallery.innerHTML = '';\n    iziToast.error({ title: 'Error', message: 'Empty request' });\n  }\n});\n\nconst validateResponse = response => {\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  return response.json();\n};\n\nconst showGallery = images => {\n  if (images.totalHits != 0) {\n    gallery.insertAdjacentHTML('beforeend', createGalleryHTML(images));\n    simpleGallery.refresh();\n  } else {\n    iziToast.warning({ title: 'Warning', message: 'Images dont fined!' });\n  }\n};\n\nconst changeLoadingState = state =>\n  (document.querySelector('.loader').style.borderColor = state);\n"],"names":["createCardHTML","image","createGalleryHTML","images","strGallery","BASE_URL","API_KEY","getPixabayImages","request","numPage","HIDE","SHOW","iziToast","simpleGallery","SimpleLightbox","gallery","lastRequest","currentRequest","numberPage","submit","event","changeLoadingState","response","validateResponse","showGallery","error","state"],"mappings":"6vBACA,SAASA,EAAeC,EAAO,CA6B3B,MA5BiB;AAAA,oCACeA,EAAM,aAAa;AAAA;AAAA;AAAA,eAGxCA,EAAM,YAAY;AAAA,iBAChBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAMVA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,UAMhC,CAEe,SAASC,EAAkBC,EAAQ,CAC9C,IAAIC,EAAa,GACjB,UAAWH,KAASE,EAAO,KACzBC,GAAcJ,EAAeC,CAAK,EAEpC,OAAOG,CACX,CCvCA,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAmB,CAACC,EAASC,EAAU,IACpC,MACLJ,EACE,QACAC,EACA,MACGE,CAAO,4DAKPC,CAAO,kBAEhB,ECPMC,EAAO,UACPC,EAAO,UAEbC,EAAS,SAAS,CAChB,QAAS,IACT,aAAc,GACd,aAAc,UACd,cAAe,WACf,SAAU,WACZ,CAAC,EAED,MAAMC,EAAgB,IAAIC,EAAe,kBAAmB,CAC1D,YAAa,MACb,aAAc,GAChB,CAAC,EACDD,EAAc,GAAG,qBAAqB,EACtC,MAAME,EAAU,SAAS,cAAc,YAAY,EACnD,IAAIC,EAAc,GACdC,EAAiB,GACjBC,EAAa,EAEjB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,iBAAiB,SAAUC,GAAS,CACzCA,EAAM,eAAc,EACpBH,EAAiBG,EAAM,OAAO,OAAO,MACjCH,GAAkB,IAChBA,IAAmBD,EAAaE,IAC/BA,EAAa,EAClBF,EAAcC,EACdF,EAAQ,UAAY,GACpBM,EAAmBV,CAAI,EACvBJ,EAAiBS,EAAaE,CAAU,EACrC,KAAKI,GAAYC,EAAiBD,CAAQ,CAAC,EAC3C,KAAKnB,GAAUqB,EAAYrB,CAAM,CAAC,EAClC,MAAMsB,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAMJ,EAAmBX,CAAI,CAAC,IAEzCK,EAAQ,UAAY,GACpBH,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,eAAe,CAAE,EAE/D,CAAC,EAED,MAAMW,EAAmBD,GAAY,CACnC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MAClB,EAEME,EAAcrB,GAAU,CACxBA,EAAO,WAAa,GACtBY,EAAQ,mBAAmB,YAAab,EAAkBC,CAAM,CAAC,EACjEU,EAAc,QAAO,GAErBD,EAAS,QAAQ,CAAE,MAAO,UAAW,QAAS,oBAAoB,CAAE,CAExE,EAEMS,EAAqBK,GACxB,SAAS,cAAc,SAAS,EAAE,MAAM,YAAcA"}